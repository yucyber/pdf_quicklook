# PDF预览插件发布指南

本文档概括说明如何将PDF预览插件发布到Git仓库和NPM公共仓库。项目包含Vue3版本和原生JavaScript版本。

## 一、Git发布步骤

1. **准备项目**
   - 确保代码测试通过，检查`.gitignore`文件是否完善

2. **初始化与配置**
   ```bash
   cd c:\Users\34850\Desktop\pdf预览插件
   git init
   git config --global user.name "你的用户名"
   git config --global user.email "你的邮箱"
   ```

3. **提交代码**
   ```bash
   git add .
   git commit -m "Initial commit: PDF预览插件项目"
   ```

4. **关联远程仓库**
    ```bash
    git remote add origin https://github.com/你的用户名/你的仓库名.git
    # 首次推送需要指定远程仓库名(origin)和分支名(master)
    git push -u origin master
    # 后续推送可以简化为
    git push origin master
    ```

5. **版本标签（可选）**
   ```bash
   git tag v1.0.0
   git push origin v1.0.0
   ```

## 二、NPM发布步骤

### Vue3版本发布

```bash
# 进入目录
cd c:\Users\34850\Desktop\pdf预览插件\vue3-version

# 确保package.json使用作用域包名
# {"name": "@yucyber/vue3-pdf-viewer"}

# 构建项目
npm run build

# 登录公共仓库
npm login --registry=https://registry.npmjs.org/

# 发布（指定公共仓库）
npm publish --access=public --registry=https://registry.npmjs.org/
```

### 原生JavaScript版本发布

```bash
# 进入目录
cd c:\Users\34850\Desktop\pdf预览插件\vanilla-js-version

# 确保package.json使用作用域包名
# {"name": "@yucyber/vanilla-js-pdf-viewer"}

# 原生JS无需构建步骤

# 发布（指定公共仓库）
npm publish --access=public --registry=https://registry.npmjs.org/
```

## 三、常见问题解决

1. **私有仓库访问问题**
   - 发布时显式指定公共仓库：`--registry=https://registry.npmjs.org/`
   - 或修改默认配置：`npm config set registry https://registry.npmjs.org/`

2. **包名冲突**
   - 使用作用域包名：`@用户名/包名`
   - 或使用不同的包名

3. **版本号重复**
   - 更新package.json中的版本号

## 四、注意事项

- 发布前确保代码测试通过
- 检查package.json配置完整
- 发布后在NPM官网验证
- 维护版本记录和文档更新